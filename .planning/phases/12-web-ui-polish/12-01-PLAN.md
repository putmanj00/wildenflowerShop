---
phase: 12
plan: 1
---

# Plan 12.1: Web Desktop Viewport Polish

## Objective
Address visual layout debt on widescreen desktop viewports discovered during the Phase 11 visual audit. Fix checkered backgrounds on transparent product images, constrain overly large product gallery images, and elegantly handle wide dividers and headers.

## Context
- `.planning/task.md` (Findings section)
- `components/ProductCard.tsx`
- `app/(tabs)/product/[id].tsx`
- `components/BotanicalDivider.tsx`
- `components/BotanicalHeader.tsx`
- `app/(tabs)/blog/[id].tsx` (For the pull quote cartouche frame)

## Tasks

<task type="auto">
  <name>Constrain Product Detail Gallery Width</name>
  <files>
    - app/(tabs)/product/[id].tsx
  </files>
  <action>
    - Change `galleryWidth = Math.min(width, 600)` to a smaller value suitable for web (e.g., `Math.min(width, Platform.OS === 'web' ? 480 : 600)`).
    - Or better, constrain the entire scrollable content area `contentContainerStyle` to have a `maxWidth: 800` and `alignSelf: 'center'` so the layout doesn't become ridiculously wide, taking the gallery down with it.
    - Ensure the arrow navigation buttons remain close to the image edges, not pinned to the extreme far left/right of the physical monitor.
  </action>
  <verify>Visual check on web desktop.</verify>
  <done>Gallery image is appropriately sized on desktop without pushing navigational arrows out of the viewport.</done>
</task>

<task type="auto">
  <name>Fix Checkered Backgrounds on Product Cards</name>
  <files>
    - components/ProductCard.tsx
    - app/(tabs)/product/[id].tsx
  </files>
  <action>
    - Apply a solid background color (e.g., `colors.parchmentDark`) directly to the `Image` component's style array for `ProductCard` (styles.productImage) and `ProductDetailScreen` gallery images.
    - This ensures that any transparent regions in PNGs (like crystals or tie-dye images) do not reveal default browser checkering or background layers.
  </action>
  <verify>Visual check on web desktop.</verify>
  <done>Transparent product images render with a solid, on-theme background instead of a checkered pattern.</done>
</task>

<task type="auto">
  <name>Scale Wide Dividers and Headers</name>
  <files>
    - components/BotanicalDivider.tsx
    - components/BotanicalHeader.tsx
    - components/layout/TopNav.tsx
    - app/(tabs)/menu.tsx
    - app/(tabs)/blog/[id].tsx
  </files>
  <action>
    - Add `maxWidth` constraints (e.g., 800px or similar) and `alignSelf: 'center'` to components that stretch awkwardly on ultra-wide screens.
    - Specifically check `BotanicalDivider` and the cartouche `Image` container in `blog/[id].tsx`. Ensure the text inside the cartouche frame doesn't exceed the frame border aspect ratio.
    - Consider `aspectRatio` adjustments or padding to keep text safe inside frames when the viewport is extremely wide.
  </action>
  <verify>Visual check on web desktop.</verify>
  <done>Wide decorations are either centered with a max-width or crop elegantly without breaking layout or text containment.</done>
</task>

## Success Criteria
- [ ] Product images display solid backgrounds (no checkering).
- [ ] Product detail gallery is comfortably sized on desktop screens.
- [ ] Decorative dividers and headers don't break aspect ratio limits on ultra-wide viewports.
