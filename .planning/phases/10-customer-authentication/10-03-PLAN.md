---
phase: 10
plan: 3
wave: 2
---

# Plan 10.3: Login & Register Screens

## Objective
Implement visually stunning, on-brand Login and Register screens to allow users to authenticate with Shopify.

## Context
- .planning/REQUIREMENTS.md
- CLAUDE.md
- context/AuthContext.tsx
- components/layout/Screen.tsx

## Tasks

<task type="auto">
  <name>Create Auth Layout</name>
  <files>app/(auth)/_layout.tsx</files>
  <action>
    - Create nested routing for authentication flows.
    - Standardize the header to use `<BotanicalHeader />` or appropriate top navigation.
  </action>
  <verify>ls app/(auth)/_layout.tsx</verify>
  <done>Auth layout structure provides seamless header/navigation for login and register routes.</done>
</task>

<task type="auto">
  <name>Implement Register Screen</name>
  <files>app/(auth)/register.tsx</files>
  <action>
    - Create the registration form with fields: First Name, Last Name, Email, Password.
    - Apply `constants/theme.ts` styling for inputs, utilizing botanical aesthetics.
    - Connect form submission to `useAuth().register()`.
    - Show inline validation errors if `customerCreate` fails or returns UserErrors.
  </action>
  <verify>ls app/(auth)/register.tsx</verify>
  <done>Register screen allows a user to create a Shopify account and handles errors visually.</done>
</task>

<task type="auto">
  <name>Implement Login Screen</name>
  <files>app/(auth)/login.tsx</files>
  <action>
    - Create the sign-in form with fields: Email, Password.
    - Apply brand styling similar to checkout/register forms. 
    - Connect form submission to `useAuth().login()`.
    - Display invalid credential errors inline.
    - On successful login, navigate back to the previous screen or explicitly to `/menu`.
  </action>
  <verify>ls app/(auth)/login.tsx</verify>
  <done>Login screen allows returning users to sign in via Shopify tokens.</done>
</task>

## Success Criteria
- [ ] Fully styled, functional user registration flow connected to Shopify.
- [ ] Fully styled, functional login flow storing access tokens to SecureStore/AsyncStorage.
