---
phase: 08-favorites-maker-profile
plan: 03
type: execute
wave: 2
depends_on: [08-01]
files_modified:
  - app/(tabs)/favorites.tsx
autonomous: true
requirements: [COMM-05]

must_haves:
  truths:
    - "Favorites screen displays all saved FavoriteSnapshot items in a 2-column product grid"
    - "Each grid card shows: product thumbnail, title, price, heart button (filled ♥) that removes on tap"
    - "Empty state: botanical illustration placeholder + 'Your collection is just beginning.' + 'Start Discovering' → Browse"
    - "Screen renders without errors on Expo Web"
  artifacts:
    - path: "app/(tabs)/favorites.tsx"
      provides: "Fully built Favorites screen from FavoriteSnapshots"
  key_links:
    - from: "FavoritesScreen"
      to: "FavoritesContext.favorites"
      via: "useFavorites() — FavoriteSnapshot[]"
      pattern: "snapshot-grid"
---

<objective>
Build the Favorites screen from the snapshot array in FavoritesContext. Flat grid, empty state, and heart-to-remove UX.

Can run in parallel with 08-02 (both depend on 08-01 but not on each other).
</objective>

<execution_context>
@/Users/jamesputman/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jamesputman/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@context/FavoritesContext.tsx
@app/(tabs)/favorites.tsx
@constants/theme.ts
@components/BotanicalDivider.tsx
</context>

<tasks>

<task type="execute" id="08-03-T1">
  <name>Build FavoriteCard inline sub-component</name>
  <what>
Create a screen-local `FavoriteCard` component (not exported) inside `favorites.tsx`.

Props:
```typescript
interface FavoriteCardProps {
  snapshot: FavoriteSnapshot;
  onPress: () => void;    // navigate to product detail
  onRemove: () => void;   // remove from favorites
}
```

Structure (2-column grid card, same dimensions as `ProductCard`):
- Image area (`spacing.productCardImageHeight: 160`): `<Image source={{ uri: snapshot.imageUrl }}>`; if null → parchmentDark placeholder View
- Filled heart button (♥) top-right corner, same circular pill style as ProductCard's favoriteButton — `colors.dustyRose` heart, transparent-parchment background — tapping calls `onRemove`
- Content area: product title in earth body bold, price in gold body bold
- Entire card is tappable → `onPress` navigates to `/product/[snapshot.handle]`
- Card style: `backgroundColor: colors.parchmentDark`, `borderRadius: radii.card`, `shadows.md`

No MakerBadge needed on this card — keep it clean and fast.
  </what>
  <why>A dedicated card component keeps the Favorites screen readable and mirrors the ProductCard visual language without importing the full Shopify product type.</why>
  <verify>TypeScript clean after adding the component locally.</verify>
  <done>FavoriteCard renders with correct props and no TypeScript errors.</done>
</task>

<task type="execute" id="08-03-T2">
  <name>Build the Favorites screen layout</name>
  <what>
Replace the stub in `app/(tabs)/favorites.tsx`. Use `useFavorites()` and `useRouter()`.

**Screen structure (populated state):**
1. Screen title "Saved" in terracotta heading h2
2. `BotanicalDivider variant="fern-mushroom"`
3. `FlatList` (2-column) of `FavoriteSnapshot` items
   - `numColumns={2}`, `columnWrapperStyle={{ gap: spacing.itemGap }}`
   - `contentContainerStyle={{ padding: spacing.screenPadding, gap: spacing.itemGap }}`
   - Each item: `<FavoriteCard snapshot={item} onPress={() => router.push('/product/' + item.handle)} onRemove={() => toggleFavorite(item)} />`
   - Sorted newest-first: reverse the `favorites` array before rendering (most recently added at top)

**Empty state:**
- Center-aligned
- Botanical illustration placeholder View (200×200, parchmentDark, radii.lg) — ASSET comment
- "Your collection is just beginning." in terracotta heading h3
- Italic sage subtext: "Tap the heart on anything that speaks to you."
- Gold "Start Discovering" pill button → `router.push('/(tabs)/browse')`

**Screen wrapper:** Use `<Screen>` component (same as all other tabs).
  </what>
  <why>The Favorites screen is the customer's wish list. It must feel curated and warm, not like a generic saved items view.</why>
  <verify>
- `npx tsc --noEmit` passes with zero errors
- File no longer contains the `TODO` stub
  </verify>
  <done>favorites.tsx renders populated grid and branded empty state. TypeScript clean.</done>
</task>

</tasks>

<verification>
`npx tsc --noEmit` passes with zero errors after both tasks.
</verification>

<success_criteria>
Favorites screen shows saved products as a 2-column grid in newest-first order. Heart button on each card removes the item. Empty state appears when no favorites exist. Both states render correctly on Expo Web.
</success_criteria>

<output>
After completion, create `.planning/phases/08-favorites-maker-profile/08-03-SUMMARY.md`

Update STATE.md:
- Current Position: Phase 8 — Plan 3 of 4 complete
- Last activity: [today's date] — 08-03: Favorites screen built
</output>
